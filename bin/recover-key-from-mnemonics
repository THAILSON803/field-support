#!/usr/bin/env node

const assert = require('assert');
const fs = require('fs');
const process = require('process');
const path = require('path');

const HdWallet = require('../src/hdwallet');

const programName = () => {
  return path.basename(process.argv[1]);
};

const args = process.argv.slice(2);
if (args.length != 1) {
  console.error(`usage: ${programName()} MNEMONICS-FILE`)
  process.exit(2)
}

const mnemonics_filename = args[0];
const mnemonic = fs.readFileSync(mnemonics_filename, { encoding: "ascii" }).trim();

const w = HdWallet.fromMnemonic(mnemonic);

console.log(`TrustWallet address (${HdWallet.TrustWalletHdPath}):`, w.trustWalletAddress(0));
console.log('TrustWallet private key:', w.trustWalletPrivateKey(0));

console.log(`MetaMask address (${HdWallet.MetaMaskHdPath}):`, w.metaMaskAddress(0));
console.log('MetaMask private key:', w.metaMaskPrivateKey(0));
